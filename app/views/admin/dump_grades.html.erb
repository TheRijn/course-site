<!DOCTYPE html>

<html>
<head>
	<meta charset="UTF-8">
	<title>Grade dump</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<%= stylesheet_link_tag    "bootstrap", :media => "all" %>
</head>
<body>

	<div class="container">

	<% @students.each do |s| %>
		<% if s.submits.any? %>
		<table class="table table-condensed">
			<tr>
				<th><%= s.name %> (<%= s.uvanetid %>)</th>
				<th>pset</th>
				<th>grade</th>
				<th>subgrades</th>
				<th>comments</th>
			</tr>
			<% s.submits.each do |sub| %>
			<tr>
				<td></td>
				<td><%= sub.pset.name %><br><small><%= sub.created_at %></small></td>
				<% if sub.grade.present? %>
				<td><%= sub.grade.grade %><br><small><%= sub.grade.updated_at %></small></td>
				<td><%= sub.grade.scope %> / <%= sub.grade.correctness %> / <%= sub.grade.design %> / <%= sub.grade.style %></td>
				<td><%= simple_markdown(sub.grade.comments) %></td>
				<% else %>
				<td colspan="3">not graded</td>
				<% end %>
			</tr>
			<% end %>
		</table>
		<% end %>
	<% end %>
	
	</div>

</body>
